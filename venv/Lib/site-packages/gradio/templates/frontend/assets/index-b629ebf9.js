import{S as K,e as X,s as x,f as S,g as s,h as j,j as b,n as H,k as V,t as ee,m as M,o as U,p as Z,w as g,r as D,u as w,v as E,aj as He,F as N,G as p,H as q,af as Re,C as Te,ak as Ge,al as Pe,I as te,Q as Be,O as Me,E as Y,R as De,N as T,M as J,B as oe,x as Ee,Z as Ne,ae as pe,V as qe,W as Ue}from"./index-b974f2e9.js";import{u as fe,c as Ze}from"./utils-c3e3db58.js";import{g as ue,B as Ae,n as _e}from"./Button-50f94cb7.js";import{S as Fe}from"./ShareButton-4962deff.js";import{M as Ie}from"./StaticMarkdown-18e644c1.js";import{C as Oe,a as Qe}from"./Copy-ee81e8e8.js";import{B as We}from"./BlockLabel-e7e7e4d7.js";import"./IconButton-afdfe055.js";function Ye(t){let e,n,l;return{c(){e=S("svg"),n=S("path"),l=S("path"),s(n,"fill","currentColor"),s(n,"d","M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z"),s(l,"fill","currentColor"),s(l,"d","M8 10h16v2H8zm0 6h10v2H8z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),s(e,"aria-hidden","true"),s(e,"role","img"),s(e,"class","iconify iconify--carbon"),s(e,"width","100%"),s(e,"height","100%"),s(e,"preserveAspectRatio","xMidYMid meet"),s(e,"viewBox","0 0 32 32")},m(i,o){j(i,e,o),b(e,n),b(e,l)},p:H,i:H,o:H,d(i){i&&V(e)}}}class Je extends K{constructor(e){super(),X(this,e,null,Ye,x,{})}}function Ke(t){let e,n,l,i,o,r,f,a,u,_,c,h,y;return{c(){e=S("svg"),n=S("g"),l=S("g"),i=S("g"),o=S("title"),r=ee("dislike [#1388]"),f=S("desc"),a=ee("Created with Sketch."),u=S("defs"),_=S("g"),c=S("g"),h=S("g"),y=S("path"),s(n,"id","SVGRepo_bgCarrier"),s(n,"stroke-width","0"),s(l,"id","SVGRepo_tracerCarrier"),s(l,"stroke-linecap","round"),s(l,"stroke-linejoin","round"),s(y,"d","M101.900089,600 L99.8000892,600 L99.8000892,611.987622 L101.900089,611.987622 C103.060339,611.987622 104.000088,611.093545 104.000088,609.989685 L104.000088,601.997937 C104.000088,600.894077 103.060339,600 101.900089,600 M87.6977917,600 L97.7000896,600 L97.7000896,611.987622 L95.89514,618.176232 C95.6819901,619.491874 94.2455904,620.374962 92.7902907,619.842512 C91.9198408,619.52484 91.400091,618.66273 91.400091,617.774647 L91.400091,612.986591 C91.400091,612.43516 90.9296911,611.987622 90.3500912,611.987622 L85.8728921,611.987622 C84.0259425,611.987622 82.6598928,610.35331 83.0746427,608.641078 L84.8995423,602.117813 C85.1998423,600.878093 86.360092,600 87.6977917,600"),s(y,"id","dislike-[#1388]"),s(h,"id","icons"),s(h,"transform","translate(56.000000, 160.000000)"),s(c,"id","Dribbble-Light-Preview"),s(c,"transform","translate(-139.000000, -760.000000)"),s(c,"fill","currentColor"),s(_,"id","Page-1"),s(_,"stroke","none"),s(_,"stroke-width","1"),s(_,"fill","none"),s(_,"fill-rule","evenodd"),s(i,"id","SVGRepo_iconCarrier"),s(e,"viewBox","0 -3 32 32"),s(e,"height","100%"),s(e,"width","100%"),s(e,"version","1.1"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),s(e,"fill","currentColor")},m(C,G){j(C,e,G),b(e,n),b(e,l),b(e,i),b(i,o),b(o,r),b(i,f),b(f,a),b(i,u),b(i,_),b(_,c),b(c,h),b(h,y)},p:H,i:H,o:H,d(C){C&&V(e)}}}class Xe extends K{constructor(e){super(),X(this,e,null,Ke,x,{})}}function xe(t){let e,n,l,i,o,r,f,a,u,_,c,h,y;return{c(){e=S("svg"),n=S("g"),l=S("g"),i=S("g"),o=S("title"),r=ee("like [#1385]"),f=S("desc"),a=ee("Created with Sketch."),u=S("defs"),_=S("g"),c=S("g"),h=S("g"),y=S("path"),s(n,"id","SVGRepo_bgCarrier"),s(n,"stroke-width","0"),s(l,"id","SVGRepo_tracerCarrier"),s(l,"stroke-linecap","round"),s(l,"stroke-linejoin","round"),s(y,"d","M203,620 L207.200006,620 L207.200006,608 L203,608 L203,620 Z M223.924431,611.355 L222.100579,617.89 C221.799228,619.131 220.638976,620 219.302324,620 L209.300009,620 L209.300009,608.021 L211.104962,601.825 C211.274012,600.775 212.223214,600 213.339366,600 C214.587817,600 215.600019,600.964 215.600019,602.153 L215.600019,608 L221.126177,608 C222.97313,608 224.340232,609.641 223.924431,611.355 L223.924431,611.355 Z"),s(y,"id","like-[#1385]"),s(h,"id","icons"),s(h,"transform","translate(56.000000, 160.000000)"),s(c,"id","Dribbble-Light-Preview"),s(c,"transform","translate(-259.000000, -760.000000)"),s(c,"fill","currentColor"),s(_,"id","Page-1"),s(_,"stroke","none"),s(_,"stroke-width","1"),s(_,"fill","none"),s(_,"fill-rule","evenodd"),s(i,"id","SVGRepo_iconCarrier"),s(e,"viewBox","0 0 32 32"),s(e,"height","100%"),s(e,"width","100%"),s(e,"version","1.1"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),s(e,"fill","currentColor")},m(C,G){j(C,e,G),b(e,n),b(e,l),b(e,i),b(i,o),b(o,r),b(i,f),b(f,a),b(i,u),b(i,_),b(_,c),b(c,h),b(h,y)},p:H,i:H,o:H,d(C){C&&V(e)}}}class $e extends K{constructor(e){super(),X(this,e,null,xe,x,{})}}const el=async t=>(await Promise.all(t.map(async n=>await Promise.all(n.map(async(l,i)=>{if(l===null)return"";let o=i===0?"ðŸ˜ƒ":"ðŸ¤–",r="";if(typeof l=="string"){const f={audio:/<audio.*?src="(\/file=.*?)"/g,video:/<video.*?src="(\/file=.*?)"/g,image:/<img.*?src="(\/file=.*?)".*?\/>|!\[.*?\]\((\/file=.*?)\)/g};r=l;for(let[a,u]of Object.entries(f)){let _;for(;(_=u.exec(l))!==null;){const c=_[1]||_[2],h=await fe(c,"url");r=r.replace(c,h)}}}else{const f=await fe(l.data,"url");l.mime_type?.includes("audio")?r=`<audio controls src="${f}"></audio>`:l.mime_type?.includes("video")?r=f:l.mime_type?.includes("image")&&(r=`<img src="${f}" />`)}return`${o}: ${r}`}))))).map(n=>n.join(n[0]!==""&&n[1]!==""?`
`:"")).join(`
`);function ce(t){let e,n;return e=new Oe({}),{c(){N(e.$$.fragment)},m(l,i){p(e,l,i),n=!0},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){w(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function de(t){let e,n;return e=new Qe({}),{c(){N(e.$$.fragment)},m(l,i){p(e,l,i),n=!0},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){w(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function ll(t){let e,n,l,i,o,r,f,a=!t[0]&&ce(),u=t[0]&&de();return{c(){e=M("button"),a&&a.c(),n=U(),u&&u.c(),s(e,"title","copy"),s(e,"aria-roledescription",l=t[0]?"Value copied":"Copy value"),s(e,"aria-label",i=t[0]?"Copied":"Copy"),s(e,"class","svelte-jdgjqu")},m(_,c){j(_,e,c),a&&a.m(e,null),b(e,n),u&&u.m(e,null),o=!0,r||(f=Z(e,"click",t[1]),r=!0)},p(_,[c]){_[0]?a&&(D(),w(a,1,1,()=>{a=null}),E()):a?c&1&&g(a,1):(a=ce(),a.c(),g(a,1),a.m(e,n)),_[0]?u?c&1&&g(u,1):(u=de(),u.c(),g(u,1),u.m(e,null)):u&&(D(),w(u,1,1,()=>{u=null}),E()),(!o||c&1&&l!==(l=_[0]?"Value copied":"Copy value"))&&s(e,"aria-roledescription",l),(!o||c&1&&i!==(i=_[0]?"Copied":"Copy"))&&s(e,"aria-label",i)},i(_){o||(g(a),g(u),o=!0)},o(_){w(a),w(u),o=!1},d(_){_&&V(e),a&&a.d(),u&&u.d(),r=!1,f()}}}function tl(t,e,n){let l=!1,{value:i}=e,o;function r(){n(0,l=!0),o&&clearTimeout(o),o=setTimeout(()=>{n(0,l=!1)},2e3)}async function f(){if("clipboard"in navigator)await navigator.clipboard.writeText(i),r();else{const a=document.createElement("textarea");a.value=i,a.style.position="absolute",a.style.left="-999999px",document.body.prepend(a),a.select();try{document.execCommand("copy"),r()}catch(u){console.error(u)}finally{a.remove()}}}return He(()=>{o&&clearTimeout(o)}),t.$$set=a=>{"value"in a&&n(2,i=a.value)},[l,f,i]}class il extends K{constructor(e){super(),X(this,e,tl,ll,x,{value:2})}}function me(t,e,n){const l=t.slice();return l[33]=e[n],l[35]=n,l}function he(t,e,n){const l=t.slice();return l[36]=e[n],l[38]=n,l}function ge(t){let e,n,l;return n=new Fe({props:{formatter:el,value:t[0]}}),n.$on("error",t[25]),n.$on("share",t[26]),{c(){e=M("div"),N(n.$$.fragment),s(e,"class","share-button svelte-1xxo3gm")},m(i,o){j(i,e,o),p(n,e,null),l=!0},p(i,o){const r={};o[0]&1&&(r.value=i[0]),n.$set(r)},i(i){l||(g(n.$$.fragment,i),l=!0)},o(i){w(n.$$.fragment,i),l=!1},d(i){i&&V(e),q(n)}}}function be(t){let e,n,l=te(t[0]),i=[];for(let r=0;r<l.length;r+=1)i[r]=Le(me(t,l,r));const o=r=>w(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Be()},m(r,f){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,f);j(r,e,f),n=!0},p(r,f){if(f[0]&245723){l=te(r[0]);let a;for(a=0;a<l.length;a+=1){const u=me(r,l,a);i[a]?(i[a].p(u,f),g(i[a],1)):(i[a]=Le(u),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(D(),a=l.length;a<i.length;a+=1)o(a);E()}},i(r){if(!n){for(let f=0;f<l.length;f+=1)g(i[f]);n=!0}},o(r){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)w(i[f]);n=!1},d(r){r&&V(e),Me(i,r)}}}function we(t){let e,n,l;return{c(){e=M("div"),n=M("img"),s(n,"class","avatar-image svelte-1xxo3gm"),J(n.src,l=ue(t[8][t[38]],t[12],t[13]))||s(n,"src",l),s(n,"alt","avatar-"+(t[38]==0?"user":"bot")),s(e,"class","avatar-container svelte-1xxo3gm")},m(i,o){j(i,e,o),b(e,n)},p(i,o){o[0]&12544&&!J(n.src,l=ue(i[8][i[38]],i[12],i[13]))&&s(n,"src",l)},d(i){i&&V(e)}}}function ke(t){let e,n,l,i,o,r,f,a,u;l=new $e({});function _(){return t[27](t[35],t[38],t[36])}r=new Xe({});function c(){return t[28](t[35],t[38],t[36])}return{c(){e=M("div"),n=M("button"),N(l.$$.fragment),i=U(),o=M("button"),N(r.$$.fragment),s(n,"class","svelte-1xxo3gm"),s(o,"class","svelte-1xxo3gm"),s(e,"class","like svelte-1xxo3gm")},m(h,y){j(h,e,y),b(e,n),p(l,n,null),b(e,i),b(e,o),p(r,o,null),f=!0,a||(u=[Z(n,"click",_),Z(o,"click",c)],a=!0)},p(h,y){t=h},i(h){f||(g(l.$$.fragment,h),g(r.$$.fragment,h),f=!0)},o(h){w(l.$$.fragment,h),w(r.$$.fragment,h),f=!1},d(h){h&&V(e),q(l),q(r),a=!1,oe(u)}}}function ve(t){let e,n,l;return n=new il({props:{value:t[36]}}),{c(){e=M("div"),N(n.$$.fragment),s(e,"class","copy-button svelte-1xxo3gm")},m(i,o){j(i,e,o),p(n,e,null),l=!0},p(i,o){const r={};o[0]&1&&(r.value=i[36]),n.$set(r)},i(i){l||(g(n.$$.fragment,i),l=!0)},o(i){w(n.$$.fragment,i),l=!1},d(i){i&&V(e),q(n)}}}function nl(t){let e,n=(t[36].orig_name||t[36].name)+"",l,i,o;return{c(){e=M("a"),l=ee(n),s(e,"data-testid","chatbot-file"),s(e,"href",i=t[36].data),s(e,"target","_blank"),s(e,"download",o=window.__is_colab__?null:t[36].orig_name||t[36].name),s(e,"class","svelte-1xxo3gm")},m(r,f){j(r,e,f),b(e,l)},p(r,f){f[0]&1&&n!==(n=(r[36].orig_name||r[36].name)+"")&&Ee(l,n),f[0]&1&&i!==(i=r[36].data)&&s(e,"href",i),f[0]&1&&o!==(o=window.__is_colab__?null:r[36].orig_name||r[36].name)&&s(e,"download",o)},i:H,o:H,d(r){r&&V(e)}}}function al(t){let e,n,l;return{c(){e=M("img"),s(e,"data-testid","chatbot-image"),J(e.src,n=t[36].data)||s(e,"src",n),s(e,"alt",l=t[36].alt_text),s(e,"class","svelte-1xxo3gm")},m(i,o){j(i,e,o)},p(i,o){o[0]&1&&!J(e.src,n=i[36].data)&&s(e,"src",n),o[0]&1&&l!==(l=i[36].alt_text)&&s(e,"alt",l)},i:H,o:H,d(i){i&&V(e)}}}function rl(t){let e,n,l,i,o,r;return{c(){e=M("video"),n=M("track"),s(n,"kind","captions"),s(n,"class","svelte-1xxo3gm"),s(e,"data-testid","chatbot-video"),e.controls=!0,J(e.src,l=t[36].data)||s(e,"src",l),s(e,"title",i=t[36].alt_text),s(e,"preload","auto"),s(e,"class","svelte-1xxo3gm")},m(f,a){j(f,e,a),b(e,n),o||(r=[Z(e,"play",t[22]),Z(e,"pause",t[23]),Z(e,"ended",t[24])],o=!0)},p(f,a){a[0]&1&&!J(e.src,l=f[36].data)&&s(e,"src",l),a[0]&1&&i!==(i=f[36].alt_text)&&s(e,"title",i)},i:H,o:H,d(f){f&&V(e),o=!1,oe(r)}}}function sl(t){let e,n,l,i,o;return{c(){e=M("audio"),s(e,"data-testid","chatbot-audio"),e.controls=!0,s(e,"preload","metadata"),J(e.src,n=t[36].data)||s(e,"src",n),s(e,"title",l=t[36].alt_text),s(e,"class","svelte-1xxo3gm")},m(r,f){j(r,e,f),i||(o=[Z(e,"play",t[19]),Z(e,"pause",t[20]),Z(e,"ended",t[21])],i=!0)},p(r,f){f[0]&1&&!J(e.src,n=r[36].data)&&s(e,"src",n),f[0]&1&&l!==(l=r[36].alt_text)&&s(e,"title",l)},i:H,o:H,d(r){r&&V(e),i=!1,oe(o)}}}function ol(t){let e,n;return e=new Ie({props:{message:t[36],latex_delimiters:t[1],sanitize_html:t[9],render_markdown:t[11]}}),e.$on("load",t[15]),{c(){N(e.$$.fragment)},m(l,i){p(e,l,i),n=!0},p(l,i){const o={};i[0]&1&&(o.message=l[36]),i[0]&2&&(o.latex_delimiters=l[1]),i[0]&512&&(o.sanitize_html=l[9]),i[0]&2048&&(o.render_markdown=l[11]),e.$set(o)},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){w(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function Ce(t){let e,n,l,i,o,r,f,a,u,_,c,h,y,C,G,O,B=t[8][t[38]]!==null&&we(t),k=t[4]&&t[38]==1&&ke(t),L=t[7]&&t[36]&&typeof t[36]=="string"&&ve(t);const A=[ol,sl,rl,al,nl],R=[];function P(z,v){return v[0]&1&&(f=null),v[0]&1&&(a=null),v[0]&1&&(u=null),typeof z[36]=="string"?0:(f==null&&(f=!!(z[36]!==null&&z[36].mime_type?.includes("audio"))),f?1:(a==null&&(a=!!(z[36]!==null&&z[36].mime_type?.includes("video"))),a?2:(u==null&&(u=!!(z[36]!==null&&z[36].mime_type?.includes("image"))),u?3:z[36]!==null&&z[36].data!==null?4:-1)))}~(_=P(t,[-1,-1]))&&(c=R[_]=A[_](t));function Q(){return t[29](t[35],t[38],t[36])}return{c(){e=M("div"),B&&B.c(),n=U(),l=M("div"),i=M("div"),k&&k.c(),o=U(),L&&L.c(),r=U(),c&&c.c(),y=U(),s(i,"class","message-buttons-"+(t[38]==0?"user":"bot")+" svelte-1xxo3gm"),T(i,"message-buttons-fit",!t[10]),T(i,"hide",t[36]===null),s(l,"data-testid",t[38]==0?"user":"bot"),s(l,"class","message "+(t[38]==0?"user":"bot")+" svelte-1xxo3gm"),s(l,"dir",h=t[6]?"rtl":"ltr"),T(l,"latest",t[35]===t[0].length-1),T(l,"message-fit",!t[10]),T(l,"message-markdown-disabled",!t[11]),T(l,"selectable",t[3]),s(e,"class","message-row "+(t[38]==0?"user-row":"bot-row")+" svelte-1xxo3gm"),T(e,"hide",t[36]===null)},m(z,v){j(z,e,v),B&&B.m(e,null),b(e,n),b(e,l),b(l,i),k&&k.m(i,null),b(i,o),L&&L.m(i,null),b(l,r),~_&&R[_].m(l,null),b(e,y),C=!0,G||(O=Z(l,"click",Q),G=!0)},p(z,v){t=z,t[8][t[38]]!==null?B?B.p(t,v):(B=we(t),B.c(),B.m(e,n)):B&&(B.d(1),B=null),t[4]&&t[38]==1?k?(k.p(t,v),v[0]&16&&g(k,1)):(k=ke(t),k.c(),g(k,1),k.m(i,o)):k&&(D(),w(k,1,1,()=>{k=null}),E()),t[7]&&t[36]&&typeof t[36]=="string"?L?(L.p(t,v),v[0]&129&&g(L,1)):(L=ve(t),L.c(),g(L,1),L.m(i,null)):L&&(D(),w(L,1,1,()=>{L=null}),E()),(!C||v[0]&1024)&&T(i,"message-buttons-fit",!t[10]),(!C||v[0]&1)&&T(i,"hide",t[36]===null);let W=_;_=P(t,v),_===W?~_&&R[_].p(t,v):(c&&(D(),w(R[W],1,1,()=>{R[W]=null}),E()),~_?(c=R[_],c?c.p(t,v):(c=R[_]=A[_](t),c.c()),g(c,1),c.m(l,null)):c=null),(!C||v[0]&64&&h!==(h=t[6]?"rtl":"ltr"))&&s(l,"dir",h),(!C||v[0]&1)&&T(l,"latest",t[35]===t[0].length-1),(!C||v[0]&1024)&&T(l,"message-fit",!t[10]),(!C||v[0]&2048)&&T(l,"message-markdown-disabled",!t[11]),(!C||v[0]&8)&&T(l,"selectable",t[3]),(!C||v[0]&1)&&T(e,"hide",t[36]===null)},i(z){C||(g(k),g(L),g(c),C=!0)},o(z){w(k),w(L),w(c),C=!1},d(z){z&&V(e),B&&B.d(),k&&k.d(),L&&L.d(),~_&&R[_].d(),G=!1,O()}}}function Le(t){let e,n,l=te(t[33]),i=[];for(let r=0;r<l.length;r+=1)i[r]=Ce(he(t,l,r));const o=r=>w(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Be()},m(r,f){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,f);j(r,e,f),n=!0},p(r,f){if(f[0]&245723){l=te(r[33]);let a;for(a=0;a<l.length;a+=1){const u=he(r,l,a);i[a]?(i[a].p(u,f),g(i[a],1)):(i[a]=Ce(u),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(D(),a=l.length;a<i.length;a+=1)o(a);E()}},i(r){if(!n){for(let f=0;f<l.length;f+=1)g(i[f]);n=!0}},o(r){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)w(i[f]);n=!1},d(r){r&&V(e),Me(i,r)}}}function Se(t){let e;return{c(){e=M("div"),e.innerHTML=`<div class="dot-flashing svelte-1xxo3gm"></div>
				Â 
				<div class="dot-flashing svelte-1xxo3gm"></div>
				Â 
				<div class="dot-flashing svelte-1xxo3gm"></div>`,s(e,"class","message pending svelte-1xxo3gm")},m(n,l){j(n,e,l)},d(n){n&&V(e)}}}function fl(t){let e,n,l,i,o,r,f,a=t[5]&&t[0]!==null&&t[0].length>0&&ge(t),u=t[0]!==null&&be(t),_=t[2]&&Se();return{c(){a&&a.c(),e=U(),n=M("div"),l=M("div"),u&&u.c(),i=U(),_&&_.c(),s(l,"class","message-wrap svelte-1xxo3gm"),s(n,"class","wrap svelte-1xxo3gm")},m(c,h){a&&a.m(c,h),j(c,e,h),j(c,n,h),b(n,l),u&&u.m(l,null),b(l,i),_&&_.m(l,null),t[30](n),o=!0,r||(f=Re(Ze.call(null,l)),r=!0)},p(c,h){c[5]&&c[0]!==null&&c[0].length>0?a?(a.p(c,h),h[0]&33&&g(a,1)):(a=ge(c),a.c(),g(a,1),a.m(e.parentNode,e)):a&&(D(),w(a,1,1,()=>{a=null}),E()),c[0]!==null?u?(u.p(c,h),h[0]&1&&g(u,1)):(u=be(c),u.c(),g(u,1),u.m(l,i)):u&&(D(),w(u,1,1,()=>{u=null}),E()),c[2]?_||(_=Se(),_.c(),_.m(l,null)):_&&(_.d(1),_=null)},i(c){o||(g(a),g(u),o=!0)},o(c){w(a),w(u),o=!1},d(c){c&&(V(e),V(n)),a&&a.d(c),u&&u.d(),_&&_.d(),t[30](null),r=!1,f()}}}function ul(t,e,n){let{value:l}=e,i=null,{latex_delimiters:o}=e,{pending_message:r=!1}=e,{selectable:f=!1}=e,{likeable:a=!1}=e,{show_share_button:u=!1}=e,{rtl:_=!1}=e,{show_copy_button:c=!1}=e,{avatar_images:h=[null,null]}=e,{sanitize_html:y=!0}=e,{bubble_full_width:C=!0}=e,{render_markdown:G=!0}=e,{root:O}=e,{root_url:B}=e,k,L;const A=Te();Ge(()=>{L=k&&k.offsetHeight+k.scrollTop>k.scrollHeight-100});const R=()=>{L&&k.scrollTo(0,k.scrollHeight)};Pe(()=>{L&&(R(),k.querySelectorAll("img").forEach(m=>{m.addEventListener("load",()=>{R()})}))});function P(m,F,I){A("select",{index:[m,F],value:I})}function Q(m,F,I,Ve){A("like",{index:[m,F],value:I,liked:Ve})}function z(m){Y.call(this,t,m)}function v(m){Y.call(this,t,m)}function W(m){Y.call(this,t,m)}function le(m){Y.call(this,t,m)}function ie(m){Y.call(this,t,m)}function ne(m){Y.call(this,t,m)}function ae(m){Y.call(this,t,m)}function re(m){Y.call(this,t,m)}const se=(m,F,I)=>Q(m,F,I,!0),d=(m,F,I)=>Q(m,F,I,!1),$=(m,F,I)=>P(m,F,I);function je(m){De[m?"unshift":"push"](()=>{k=m,n(14,k)})}return t.$$set=m=>{"value"in m&&n(0,l=m.value),"latex_delimiters"in m&&n(1,o=m.latex_delimiters),"pending_message"in m&&n(2,r=m.pending_message),"selectable"in m&&n(3,f=m.selectable),"likeable"in m&&n(4,a=m.likeable),"show_share_button"in m&&n(5,u=m.show_share_button),"rtl"in m&&n(6,_=m.rtl),"show_copy_button"in m&&n(7,c=m.show_copy_button),"avatar_images"in m&&n(8,h=m.avatar_images),"sanitize_html"in m&&n(9,y=m.sanitize_html),"bubble_full_width"in m&&n(10,C=m.bubble_full_width),"render_markdown"in m&&n(11,G=m.render_markdown),"root"in m&&n(12,O=m.root),"root_url"in m&&n(13,B=m.root_url)},t.$$.update=()=>{t.$$.dirty[0]&262145&&l!==i&&(n(18,i=l),A("change"))},[l,o,r,f,a,u,_,c,h,y,C,G,O,B,k,R,P,Q,i,z,v,W,le,ie,ne,ae,re,se,d,$,je]}class _l extends K{constructor(e){super(),X(this,e,ul,fl,x,{value:0,latex_delimiters:1,pending_message:2,selectable:3,likeable:4,show_share_button:5,rtl:6,show_copy_button:7,avatar_images:8,sanitize_html:9,bubble_full_width:10,render_markdown:11,root:12,root_url:13},null,[-1,-1])}}function ze(t){let e,n;const l=[t[21],{show_progress:t[21].show_progress==="hidden"?"hidden":"minimal"}];let i={};for(let o=0;o<l.length;o+=1)i=Ne(i,l[o]);return e=new pe({props:i}),{c(){N(e.$$.fragment)},m(o,r){p(e,o,r),n=!0},p(o,r){const f=r&2097152?qe(l,[Ue(o[21]),{show_progress:o[21].show_progress==="hidden"?"hidden":"minimal"}]):{};e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){q(e,o)}}}function ye(t){let e,n;return e=new We({props:{show_label:t[7],Icon:Je,float:!1,label:t[6]||"Chatbot"}}),{c(){N(e.$$.fragment)},m(l,i){p(e,l,i),n=!0},p(l,i){const o={};i&128&&(o.show_label=l[7]),i&64&&(o.label=l[6]||"Chatbot"),e.$set(o)},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){w(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function cl(t){let e,n,l,i,o,r=t[21]&&ze(t),f=t[7]&&ye(t);return i=new _l({props:{selectable:t[10],likeable:t[11],show_share_button:t[12],value:t[23],latex_delimiters:t[18],render_markdown:t[17],pending_message:t[21]?.status==="pending",rtl:t[13],show_copy_button:t[14],avatar_images:t[20],sanitize_html:t[15],bubble_full_width:t[16],root_url:t[9],root:t[8]}}),i.$on("change",t[24]),i.$on("select",t[25]),i.$on("like",t[26]),i.$on("share",t[27]),i.$on("error",t[28]),{c(){r&&r.c(),e=U(),n=M("div"),f&&f.c(),l=U(),N(i.$$.fragment),s(n,"class","wrapper svelte-nab2ao")},m(a,u){r&&r.m(a,u),j(a,e,u),j(a,n,u),f&&f.m(n,null),b(n,l),p(i,n,null),o=!0},p(a,u){a[21]?r?(r.p(a,u),u&2097152&&g(r,1)):(r=ze(a),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(D(),w(r,1,1,()=>{r=null}),E()),a[7]?f?(f.p(a,u),u&128&&g(f,1)):(f=ye(a),f.c(),g(f,1),f.m(n,l)):f&&(D(),w(f,1,1,()=>{f=null}),E());const _={};u&1024&&(_.selectable=a[10]),u&2048&&(_.likeable=a[11]),u&4096&&(_.show_share_button=a[12]),u&8388608&&(_.value=a[23]),u&262144&&(_.latex_delimiters=a[18]),u&131072&&(_.render_markdown=a[17]),u&2097152&&(_.pending_message=a[21]?.status==="pending"),u&8192&&(_.rtl=a[13]),u&16384&&(_.show_copy_button=a[14]),u&1048576&&(_.avatar_images=a[20]),u&32768&&(_.sanitize_html=a[15]),u&65536&&(_.bubble_full_width=a[16]),u&512&&(_.root_url=a[9]),u&256&&(_.root=a[8]),i.$set(_)},i(a){o||(g(r),g(f),g(i.$$.fragment,a),o=!0)},o(a){w(r),w(f),w(i.$$.fragment,a),o=!1},d(a){a&&(V(e),V(n)),r&&r.d(a),f&&f.d(),q(i)}}}function dl(t){let e,n;return e=new Ae({props:{elem_id:t[0],elem_classes:t[1],visible:t[2],padding:!1,scale:t[4],min_width:t[5],height:t[22],allow_overflow:!1,$$slots:{default:[cl]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(l,i){p(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.elem_id=l[0]),i&2&&(o.elem_classes=l[1]),i&4&&(o.visible=l[2]),i&16&&(o.scale=l[4]),i&32&&(o.min_width=l[5]),i&4194304&&(o.height=l[22]),i&1086324680&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){w(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function ml(t,e,n){let{elem_id:l=""}=e,{elem_classes:i=[]}=e,{visible:o=!0}=e,{value:r=[]}=e,{scale:f=null}=e,{min_width:a=void 0}=e,{label:u}=e,{show_label:_=!0}=e,{root:c}=e,{root_url:h}=e,{selectable:y=!1}=e,{likeable:C=!1}=e,{show_share_button:G=!1}=e,{rtl:O=!1}=e,{show_copy_button:B=!1}=e,{sanitize_html:k=!0}=e,{bubble_full_width:L=!0}=e,{render_markdown:A=!0}=e,{latex_delimiters:R}=e,{gradio:P}=e,{avatar_images:Q=[null,null]}=e,z;const v=d=>d.replace('src="/file',`src="${c}file`);let{loading_status:W=void 0}=e,{height:le=400}=e;const ie=()=>P.dispatch("change",r),ne=d=>P.dispatch("select",d.detail),ae=d=>P.dispatch("like",d.detail),re=d=>P.dispatch("share",d.detail),se=d=>P.dispatch("error",d.detail);return t.$$set=d=>{"elem_id"in d&&n(0,l=d.elem_id),"elem_classes"in d&&n(1,i=d.elem_classes),"visible"in d&&n(2,o=d.visible),"value"in d&&n(3,r=d.value),"scale"in d&&n(4,f=d.scale),"min_width"in d&&n(5,a=d.min_width),"label"in d&&n(6,u=d.label),"show_label"in d&&n(7,_=d.show_label),"root"in d&&n(8,c=d.root),"root_url"in d&&n(9,h=d.root_url),"selectable"in d&&n(10,y=d.selectable),"likeable"in d&&n(11,C=d.likeable),"show_share_button"in d&&n(12,G=d.show_share_button),"rtl"in d&&n(13,O=d.rtl),"show_copy_button"in d&&n(14,B=d.show_copy_button),"sanitize_html"in d&&n(15,k=d.sanitize_html),"bubble_full_width"in d&&n(16,L=d.bubble_full_width),"render_markdown"in d&&n(17,A=d.render_markdown),"latex_delimiters"in d&&n(18,R=d.latex_delimiters),"gradio"in d&&n(19,P=d.gradio),"avatar_images"in d&&n(20,Q=d.avatar_images),"loading_status"in d&&n(21,W=d.loading_status),"height"in d&&n(22,le=d.height)},t.$$.update=()=>{t.$$.dirty&776&&n(23,z=r?r.map(([d,$])=>[typeof d=="string"?v(d):_e(d,c,h),typeof $=="string"?v($):_e($,c,h)]):[])},[l,i,o,r,f,a,u,_,c,h,y,C,G,O,B,k,L,A,R,P,Q,W,le,z,ie,ne,ae,re,se]}class hl extends K{constructor(e){super(),X(this,e,ml,dl,x,{elem_id:0,elem_classes:1,visible:2,value:3,scale:4,min_width:5,label:6,show_label:7,root:8,root_url:9,selectable:10,likeable:11,show_share_button:12,rtl:13,show_copy_button:14,sanitize_html:15,bubble_full_width:16,render_markdown:17,latex_delimiters:18,gradio:19,avatar_images:20,loading_status:21,height:22})}}const zl=hl;export{zl as default};
//# sourceMappingURL=index-b629ebf9.js.map
