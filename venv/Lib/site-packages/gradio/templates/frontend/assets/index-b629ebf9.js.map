{"version":3,"file":"index-b629ebf9.js","sources":["../../../../js/icons/src/Chat.svelte","../../../../js/icons/src/Dislike.svelte","../../../../js/icons/src/Like.svelte","../../../../js/chatbot/utils.ts","../../../../js/chatbot/static/Copy.svelte","../../../../js/chatbot/static/ChatBot.svelte","../../../../js/chatbot/static/StaticChatbot.svelte"],"sourcesContent":["<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\taria-hidden=\"true\"\n\trole=\"img\"\n\tclass=\"iconify iconify--carbon\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\tpreserveAspectRatio=\"xMidYMid meet\"\n\tviewBox=\"0 0 32 32\"\n>\n\t<path\n\t\tfill=\"currentColor\"\n\t\td=\"M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z\"\n\t/>\n\t<path fill=\"currentColor\" d=\"M8 10h16v2H8zm0 6h10v2H8z\" />\n</svg>\n","<svg\n\tviewBox=\"0 -3 32 32\"\n\theight=\"100%\"\n\twidth=\"100%\"\n\tversion=\"1.1\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\tfill=\"currentColor\"\n\t><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g\n\t\tid=\"SVGRepo_tracerCarrier\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></g><g id=\"SVGRepo_iconCarrier\">\n\t\t<title>dislike [#1388]</title> <desc>Created with Sketch.</desc>\n\t\t<defs> </defs>\n\t\t<g\n\t\t\tid=\"Page-1\"\n\t\t\tstroke=\"none\"\n\t\t\tstroke-width=\"1\"\n\t\t\tfill=\"none\"\n\t\t\tfill-rule=\"evenodd\"\n\t\t>\n\t\t\t<g\n\t\t\t\tid=\"Dribbble-Light-Preview\"\n\t\t\t\ttransform=\"translate(-139.000000, -760.000000)\"\n\t\t\t\tfill=\"currentColor\"\n\t\t\t>\n\t\t\t\t<g id=\"icons\" transform=\"translate(56.000000, 160.000000)\">\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M101.900089,600 L99.8000892,600 L99.8000892,611.987622 L101.900089,611.987622 C103.060339,611.987622 104.000088,611.093545 104.000088,609.989685 L104.000088,601.997937 C104.000088,600.894077 103.060339,600 101.900089,600 M87.6977917,600 L97.7000896,600 L97.7000896,611.987622 L95.89514,618.176232 C95.6819901,619.491874 94.2455904,620.374962 92.7902907,619.842512 C91.9198408,619.52484 91.400091,618.66273 91.400091,617.774647 L91.400091,612.986591 C91.400091,612.43516 90.9296911,611.987622 90.3500912,611.987622 L85.8728921,611.987622 C84.0259425,611.987622 82.6598928,610.35331 83.0746427,608.641078 L84.8995423,602.117813 C85.1998423,600.878093 86.360092,600 87.6977917,600\"\n\t\t\t\t\t\tid=\"dislike-[#1388]\"\n\t\t\t\t\t>\n\t\t\t\t\t</path>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g></svg\n>\n","<svg\n\tviewBox=\"0 0 32 32\"\n\theight=\"100%\"\n\twidth=\"100%\"\n\tversion=\"1.1\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\tfill=\"currentColor\"\n\t><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g\n\t\tid=\"SVGRepo_tracerCarrier\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></g><g id=\"SVGRepo_iconCarrier\">\n\t\t<title>like [#1385]</title> <desc>Created with Sketch.</desc> <defs> </defs>\n\t\t<g\n\t\t\tid=\"Page-1\"\n\t\t\tstroke=\"none\"\n\t\t\tstroke-width=\"1\"\n\t\t\tfill=\"none\"\n\t\t\tfill-rule=\"evenodd\"\n\t\t>\n\t\t\t<g\n\t\t\t\tid=\"Dribbble-Light-Preview\"\n\t\t\t\ttransform=\"translate(-259.000000, -760.000000)\"\n\t\t\t\tfill=\"currentColor\"\n\t\t\t>\n\t\t\t\t<g id=\"icons\" transform=\"translate(56.000000, 160.000000)\">\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M203,620 L207.200006,620 L207.200006,608 L203,608 L203,620 Z M223.924431,611.355 L222.100579,617.89 C221.799228,619.131 220.638976,620 219.302324,620 L209.300009,620 L209.300009,608.021 L211.104962,601.825 C211.274012,600.775 212.223214,600 213.339366,600 C214.587817,600 215.600019,600.964 215.600019,602.153 L215.600019,608 L221.126177,608 C222.97313,608 224.340232,609.641 223.924431,611.355 L223.924431,611.355 Z\"\n\t\t\t\t\t\tid=\"like-[#1385]\"\n\t\t\t\t\t>\n\t\t\t\t\t</path>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g></svg\n>\n","import type { FileData } from \"@gradio/upload\";\nimport { uploadToHuggingFace } from \"@gradio/utils\";\n\nexport const format_chat_for_sharing = async (\n\tchat: [string | FileData | null, string | FileData | null][]\n): Promise<string> => {\n\tlet messages = await Promise.all(\n\t\tchat.map(async (message_pair) => {\n\t\t\treturn await Promise.all(\n\t\t\t\tmessage_pair.map(async (message, i) => {\n\t\t\t\t\tif (message === null) return \"\";\n\t\t\t\t\tlet speaker_emoji = i === 0 ? \"ðŸ˜ƒ\" : \"ðŸ¤–\";\n\t\t\t\t\tlet html_content = \"\";\n\n\t\t\t\t\tif (typeof message === \"string\") {\n\t\t\t\t\t\tconst regexPatterns = {\n\t\t\t\t\t\t\taudio: /<audio.*?src=\"(\\/file=.*?)\"/g,\n\t\t\t\t\t\t\tvideo: /<video.*?src=\"(\\/file=.*?)\"/g,\n\t\t\t\t\t\t\timage: /<img.*?src=\"(\\/file=.*?)\".*?\\/>|!\\[.*?\\]\\((\\/file=.*?)\\)/g\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\thtml_content = message;\n\n\t\t\t\t\t\tfor (let [_, regex] of Object.entries(regexPatterns)) {\n\t\t\t\t\t\t\tlet match;\n\n\t\t\t\t\t\t\twhile ((match = regex.exec(message)) !== null) {\n\t\t\t\t\t\t\t\tconst fileUrl = match[1] || match[2];\n\t\t\t\t\t\t\t\tconst newUrl = await uploadToHuggingFace(fileUrl, \"url\");\n\t\t\t\t\t\t\t\thtml_content = html_content.replace(fileUrl, newUrl);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst file_url = await uploadToHuggingFace(message.data, \"url\");\n\t\t\t\t\t\tif (message.mime_type?.includes(\"audio\")) {\n\t\t\t\t\t\t\thtml_content = `<audio controls src=\"${file_url}\"></audio>`;\n\t\t\t\t\t\t} else if (message.mime_type?.includes(\"video\")) {\n\t\t\t\t\t\t\thtml_content = file_url;\n\t\t\t\t\t\t} else if (message.mime_type?.includes(\"image\")) {\n\t\t\t\t\t\t\thtml_content = `<img src=\"${file_url}\" />`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn `${speaker_emoji}: ${html_content}`;\n\t\t\t\t})\n\t\t\t);\n\t\t})\n\t);\n\treturn messages\n\t\t.map((message_pair) =>\n\t\t\tmessage_pair.join(\n\t\t\t\tmessage_pair[0] !== \"\" && message_pair[1] !== \"\" ? \"\\n\" : \"\"\n\t\t\t)\n\t\t)\n\t\t.join(\"\\n\");\n};\n","<script lang=\"ts\">\n\timport { onDestroy } from \"svelte\";\n\timport { Copy, Check } from \"@gradio/icons\";\n\n\tlet copied = false;\n\texport let value: string;\n\tlet timer: NodeJS.Timeout;\n\n\tfunction copy_feedback(): void {\n\t\tcopied = true;\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = setTimeout(() => {\n\t\t\tcopied = false;\n\t\t}, 2000);\n\t}\n\n\tasync function handle_copy(): Promise<void> {\n\t\tif (\"clipboard\" in navigator) {\n\t\t\tawait navigator.clipboard.writeText(value);\n\t\t\tcopy_feedback();\n\t\t} else {\n\t\t\tconst textArea = document.createElement(\"textarea\");\n\t\t\ttextArea.value = value;\n\n\t\t\ttextArea.style.position = \"absolute\";\n\t\t\ttextArea.style.left = \"-999999px\";\n\n\t\t\tdocument.body.prepend(textArea);\n\t\t\ttextArea.select();\n\n\t\t\ttry {\n\t\t\t\tdocument.execCommand(\"copy\");\n\t\t\t\tcopy_feedback();\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t} finally {\n\t\t\t\ttextArea.remove();\n\t\t\t}\n\t\t}\n\t}\n\n\tonDestroy(() => {\n\t\tif (timer) clearTimeout(timer);\n\t});\n</script>\n\n<button\n\ton:click={handle_copy}\n\ttitle=\"copy\"\n\taria-roledescription={copied ? \"Value copied\" : \"Copy value\"}\n\taria-label={copied ? \"Copied\" : \"Copy\"}\n>\n\t{#if !copied}\n\t\t<Copy />\n\t{/if}\n\t{#if copied}\n\t\t<Check />\n\t{/if}\n</button>\n\n<style>\n\tbutton {\n\t\tposition: relative;\n\t\ttop: 0;\n\t\tright: 0;\n\n\t\twidth: 22px;\n\t\theight: 22px;\n\n\t\tpadding: 5px;\n\n\t\tcursor: pointer;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { format_chat_for_sharing } from \"../utils\";\n\timport { copy } from \"@gradio/utils\";\n\n\timport { beforeUpdate, afterUpdate, createEventDispatcher } from \"svelte\";\n\timport { ShareButton } from \"@gradio/atoms\";\n\timport type { SelectData, LikeData } from \"@gradio/utils\";\n\timport type { FileData } from \"@gradio/upload\";\n\timport { MarkdownCode as Markdown } from \"@gradio/markdown/static\";\n\timport { get_fetchable_url_or_file } from \"@gradio/upload\";\n\timport Copy from \"./Copy.svelte\";\n\timport { Like, Dislike, Check } from \"@gradio/icons\";\n\n\texport let value:\n\t\t| [string | FileData | null, string | FileData | null][]\n\t\t| null;\n\tlet old_value: [string | FileData | null, string | FileData | null][] | null =\n\t\tnull;\n\texport let latex_delimiters: {\n\t\tleft: string;\n\t\tright: string;\n\t\tdisplay: boolean;\n\t}[];\n\texport let pending_message = false;\n\texport let selectable = false;\n\texport let likeable = false;\n\texport let show_share_button = false;\n\texport let rtl = false;\n\texport let show_copy_button = false;\n\texport let avatar_images: [string | null, string | null] = [null, null];\n\texport let sanitize_html = true;\n\texport let bubble_full_width = true;\n\texport let render_markdown = true;\n\texport let root: string;\n\texport let root_url: null | string;\n\n\tlet div: HTMLDivElement;\n\tlet autoscroll: boolean;\n\n\tconst dispatch = createEventDispatcher<{\n\t\tchange: undefined;\n\t\tselect: SelectData;\n\t\tlike: LikeData;\n\t}>();\n\n\tbeforeUpdate(() => {\n\t\tautoscroll =\n\t\t\tdiv && div.offsetHeight + div.scrollTop > div.scrollHeight - 100;\n\t});\n\n\tconst scroll = (): void => {\n\t\tif (autoscroll) {\n\t\t\tdiv.scrollTo(0, div.scrollHeight);\n\t\t}\n\t};\n\tafterUpdate(() => {\n\t\tif (autoscroll) {\n\t\t\tscroll();\n\t\t\tdiv.querySelectorAll(\"img\").forEach((n) => {\n\t\t\t\tn.addEventListener(\"load\", () => {\n\t\t\t\t\tscroll();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\t$: {\n\t\tif (value !== old_value) {\n\t\t\told_value = value;\n\t\t\tdispatch(\"change\");\n\t\t}\n\t}\n\n\tfunction handle_select(\n\t\ti: number,\n\t\tj: number,\n\t\tmessage: string | FileData | null\n\t): void {\n\t\tdispatch(\"select\", {\n\t\t\tindex: [i, j],\n\t\t\tvalue: message\n\t\t});\n\t}\n\n\tfunction handle_like(\n\t\ti: number,\n\t\tj: number,\n\t\tmessage: string | FileData | null,\n\t\tliked: boolean\n\t): void {\n\t\tdispatch(\"like\", {\n\t\t\tindex: [i, j],\n\t\t\tvalue: message,\n\t\t\tliked: liked\n\t\t});\n\t}\n</script>\n\n{#if show_share_button && value !== null && value.length > 0}\n\t<div class=\"share-button\">\n\t\t<ShareButton\n\t\t\ton:error\n\t\t\ton:share\n\t\t\tformatter={format_chat_for_sharing}\n\t\t\t{value}\n\t\t/>\n\t</div>\n{/if}\n\n<div class=\"wrap\" bind:this={div}>\n\t<div class=\"message-wrap\" use:copy>\n\t\t{#if value !== null}\n\t\t\t{#each value as message_pair, i}\n\t\t\t\t{#each message_pair as message, j}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"message-row {j == 0 ? 'user-row' : 'bot-row'}\"\n\t\t\t\t\t\tclass:hide={message === null}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if avatar_images[j] !== null}\n\t\t\t\t\t\t\t<div class=\"avatar-container\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclass=\"avatar-image\"\n\t\t\t\t\t\t\t\t\tsrc={get_fetchable_url_or_file(\n\t\t\t\t\t\t\t\t\t\tavatar_images[j],\n\t\t\t\t\t\t\t\t\t\troot,\n\t\t\t\t\t\t\t\t\t\troot_url\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\talt=\"avatar-{j == 0 ? 'user' : 'bot'}\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<!-- TODO: fix-->\n\t\t\t\t\t\t<!-- svelte-ignore a11y-no-static-element-interactions-->\n\t\t\t\t\t\t<!-- svelte-ignore a11y-click-events-have-key-events -->\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tdata-testid={j == 0 ? \"user\" : \"bot\"}\n\t\t\t\t\t\t\tclass:latest={i === value.length - 1}\n\t\t\t\t\t\t\tclass=\"message {j == 0 ? 'user' : 'bot'}\"\n\t\t\t\t\t\t\tclass:message-fit={!bubble_full_width}\n\t\t\t\t\t\t\tclass:message-markdown-disabled={!render_markdown}\n\t\t\t\t\t\t\tclass:selectable\n\t\t\t\t\t\t\ton:click={() => handle_select(i, j, message)}\n\t\t\t\t\t\t\tdir={rtl ? \"rtl\" : \"ltr\"}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"message-buttons-{j == 0 ? 'user' : 'bot'}\"\n\t\t\t\t\t\t\t\tclass:message-buttons-fit={!bubble_full_width}\n\t\t\t\t\t\t\t\tclass:hide={message === null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if likeable && j == 1}\n\t\t\t\t\t\t\t\t\t<div class=\"like\">\n\t\t\t\t\t\t\t\t\t\t<button on:click={() => handle_like(i, j, message, true)}\n\t\t\t\t\t\t\t\t\t\t\t><Like /></button\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<button on:click={() => handle_like(i, j, message, false)}\n\t\t\t\t\t\t\t\t\t\t\t><Dislike /></button\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t{#if show_copy_button && message && typeof message === \"string\"}\n\t\t\t\t\t\t\t\t\t<div class=\"copy-button\">\n\t\t\t\t\t\t\t\t\t\t<Copy value={message} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{#if typeof message === \"string\"}\n\t\t\t\t\t\t\t\t<Markdown\n\t\t\t\t\t\t\t\t\t{message}\n\t\t\t\t\t\t\t\t\t{latex_delimiters}\n\t\t\t\t\t\t\t\t\t{sanitize_html}\n\t\t\t\t\t\t\t\t\t{render_markdown}\n\t\t\t\t\t\t\t\t\ton:load={scroll}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{:else if message !== null && message.mime_type?.includes(\"audio\")}\n\t\t\t\t\t\t\t\t<audio\n\t\t\t\t\t\t\t\t\tdata-testid=\"chatbot-audio\"\n\t\t\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\t\t\tpreload=\"metadata\"\n\t\t\t\t\t\t\t\t\tsrc={message.data}\n\t\t\t\t\t\t\t\t\ttitle={message.alt_text}\n\t\t\t\t\t\t\t\t\ton:play\n\t\t\t\t\t\t\t\t\ton:pause\n\t\t\t\t\t\t\t\t\ton:ended\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{:else if message !== null && message.mime_type?.includes(\"video\")}\n\t\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\t\tdata-testid=\"chatbot-video\"\n\t\t\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\t\t\tsrc={message.data}\n\t\t\t\t\t\t\t\t\ttitle={message.alt_text}\n\t\t\t\t\t\t\t\t\tpreload=\"auto\"\n\t\t\t\t\t\t\t\t\ton:play\n\t\t\t\t\t\t\t\t\ton:pause\n\t\t\t\t\t\t\t\t\ton:ended\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<track kind=\"captions\" />\n\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t{:else if message !== null && message.mime_type?.includes(\"image\")}\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tdata-testid=\"chatbot-image\"\n\t\t\t\t\t\t\t\t\tsrc={message.data}\n\t\t\t\t\t\t\t\t\talt={message.alt_text}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{:else if message !== null && message.data !== null}\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tdata-testid=\"chatbot-file\"\n\t\t\t\t\t\t\t\t\thref={message.data}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\tdownload={window.__is_colab__\n\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t: message.orig_name || message.name}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{message.orig_name || message.name}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t{/each}\n\t\t{/if}\n\t\t{#if pending_message}\n\t\t\t<div class=\"message pending\">\n\t\t\t\t<div class=\"dot-flashing\" />\n\t\t\t\t&nbsp;\n\t\t\t\t<div class=\"dot-flashing\" />\n\t\t\t\t&nbsp;\n\t\t\t\t<div class=\"dot-flashing\" />\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</div>\n\n<style>\n\t.wrap {\n\t\tpadding: var(--block-padding);\n\t\twidth: 100%;\n\t\toverflow-y: auto;\n\t}\n\n\t.message-wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-xxl);\n\t}\n\n\t.message-wrap > div :not(.avatar-container) :global(img) {\n\t\tborder-radius: 13px;\n\t\tmax-width: 30vw;\n\t}\n\n\t.message-wrap > div :global(p:not(:first-child)) {\n\t\tmargin-top: var(--spacing-xxl);\n\t}\n\n\t.message-wrap :global(audio) {\n\t\twidth: 100%;\n\t}\n\n\t.message {\n\t\tposition: relative;\n\t\talign-self: flex-start;\n\t\tborder-width: 1px;\n\t\tborder-radius: var(--radius-xxl);\n\t\tbackground: var(--background-fill-secondary);\n\t\tpadding: var(--spacing-xxl);\n\t\tpadding-right: calc(var(--spacing-xxl) + var(--spacing-md));\n\t\twidth: calc(100% - var(--spacing-xxl));\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--text-lg);\n\t\tline-height: var(--line-lg);\n\t\toverflow-wrap: break-word;\n\t\toverflow-x: hidden;\n\t}\n\t.message-fit {\n\t\twidth: fit-content !important;\n\t}\n\t.message-fit.user {\n\t\tmargin-left: auto;\n\t}\n\t.message-markdown-disabled {\n\t\twhite-space: pre-line;\n\t}\n\t.user {\n\t\talign-self: flex-end;\n\t\tborder-bottom-right-radius: 0;\n\t}\n\t.bot {\n\t\tborder-bottom-left-radius: 0;\n\t\tpadding-left: var(--spacing-xxl);\n\t}\n\n\t/* Colors */\n\t.bot,\n\t.pending {\n\t\tborder-color: var(--border-color-primary);\n\t\tbackground: var(--background-fill-secondary);\n\t}\n\t.user {\n\t\tborder-color: var(--border-color-accent-subdued);\n\t\tbackground-color: var(--color-accent-soft);\n\t}\n\t.message-row {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t}\n\n\t@media (max-width: 480px) {\n\t\t.user-row {\n\t\t\talign-self: flex-end;\n\t\t}\n\n\t\t.bot-row {\n\t\t\talign-self: flex-start;\n\t\t}\n\t\t.message {\n\t\t\twidth: auto;\n\t\t}\n\t\t.bot {\n\t\t\tpadding-left: var(--spacing-xxl);\n\t\t}\n\t}\n\t.avatar-container {\n\t\talign-self: flex-end;\n\t\tposition: relative;\n\t\tjustify-content: center;\n\t\twidth: 35px;\n\t\theight: 35px;\n\t\tflex-shrink: 0;\n\t\tbottom: 0;\n\t}\n\t.user-row > .avatar-container {\n\t\torder: 2;\n\t\tmargin-left: 10px;\n\t}\n\t.bot-row > .avatar-container {\n\t\tmargin-right: 10px;\n\t}\n\timg.avatar-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: cover;\n\t\tborder-radius: 50%;\n\t}\n\n\t.message-buttons-user,\n\t.message-buttons-bot {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tjustify-content: flex-end;\n\t}\n\t.message-buttons-bot {\n\t\tmargin-right: 15px;\n\t}\n\t.message-buttons-fit {\n\t\tmargin-right: 0px;\n\t}\n\t.copy-button {\n\t\tmargin-top: -10px;\n\t\tmargin-bottom: -10px;\n\t}\n\t.share-button {\n\t\tposition: absolute;\n\t\ttop: 4px;\n\t\tright: 6px;\n\t}\n\t.like {\n\t\tdisplay: flex;\n\t\theight: var(--size-8);\n\t\twidth: var(--size-8);\n\t\tmargin-top: -10px;\n\t\tmargin-bottom: -10px;\n\t}\n\t.like button {\n\t\tcolor: var(--body-text-color-subdued);\n\t}\n\t.like button:hover,\n\tbutton:focus {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.selectable {\n\t\tcursor: pointer;\n\t}\n\n\t.pending {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\talign-self: center;\n\t\tgap: 2px;\n\t}\n\t.dot-flashing {\n\t\tanimation: dot-flashing 1s infinite linear alternate;\n\t\tborder-radius: 5px;\n\t\tbackground-color: var(--body-text-color);\n\t\twidth: 5px;\n\t\theight: 5px;\n\t\tcolor: var(--body-text-color);\n\t}\n\t.dot-flashing:nth-child(2) {\n\t\tanimation-delay: 0.33s;\n\t}\n\t.dot-flashing:nth-child(3) {\n\t\tanimation-delay: 0.66s;\n\t}\n\n\t/* Small screen */\n\t@media (max-width: 480px) {\n\t\t.user {\n\t\t\talign-self: flex-end;\n\t\t}\n\t\t.bot {\n\t\t\talign-self: flex-start;\n\t\t\tpadding-left: var(--size-3);\n\t\t}\n\t}\n\n\t@keyframes dot-flashing {\n\t\t0% {\n\t\t\topacity: 0.8;\n\t\t}\n\t\t50% {\n\t\t\topacity: 0.5;\n\t\t}\n\t\t100% {\n\t\t\topacity: 0.8;\n\t\t}\n\t}\n\t.message-wrap .message :global(img) {\n\t\tmargin: var(--size-2);\n\t\tmax-height: 200px;\n\t}\n\t.message-wrap .message :global(a) {\n\t\tcolor: var(--color-text-link);\n\t\ttext-decoration: underline;\n\t}\n\n\t.hide {\n\t\tdisplay: none;\n\t}\n\n\t.message-wrap .bot :global(table),\n\t.message-wrap .bot :global(tr),\n\t.message-wrap .bot :global(td),\n\t.message-wrap .bot :global(th) {\n\t\tborder: 1px solid var(--border-color-primary);\n\t}\n\n\t.message-wrap .user :global(table),\n\t.message-wrap .user :global(tr),\n\t.message-wrap .user :global(td),\n\t.message-wrap .user :global(th) {\n\t\tborder: 1px solid var(--border-color-accent);\n\t}\n\n\t/* Lists */\n\t.message-wrap :global(ol),\n\t.message-wrap :global(ul) {\n\t\tpadding-inline-start: 2em;\n\t}\n\n\t/* KaTeX */\n\t.message-wrap :global(span.katex) {\n\t\tfont-size: var(--text-lg);\n\t\tdirection: ltr;\n\t}\n\n\t/* Copy button */\n\t.message-wrap :global(div[class*=\"code_wrap\"] > button) {\n\t\tposition: absolute;\n\t\ttop: var(--spacing-md);\n\t\tright: var(--spacing-md);\n\t\tz-index: 1;\n\t\tcursor: pointer;\n\t\tborder-bottom-left-radius: var(--radius-sm);\n\t\tpadding: 5px;\n\t\tpadding: var(--spacing-md);\n\t\twidth: 25px;\n\t\theight: 25px;\n\t}\n\n\t.message-wrap :global(code > button > span) {\n\t\tposition: absolute;\n\t\ttop: var(--spacing-md);\n\t\tright: var(--spacing-md);\n\t\twidth: 12px;\n\t\theight: 12px;\n\t}\n\t.message-wrap :global(.check) {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\topacity: 0;\n\t\tz-index: var(--layer-top);\n\t\ttransition: opacity 0.2s;\n\t\tbackground: var(--background-fill-primary);\n\t\tpadding: var(--size-1);\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.message-wrap :global(pre) {\n\t\tposition: relative;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport type { Gradio, SelectData, LikeData } from \"@gradio/utils\";\n\n\timport ChatBot from \"./ChatBot.svelte\";\n\timport { Block, BlockLabel } from \"@gradio/atoms\";\n\timport type { LoadingStatus } from \"@gradio/statustracker\";\n\timport { Chat } from \"@gradio/icons\";\n\timport type { FileData } from \"@gradio/upload\";\n\timport { normalise_file } from \"@gradio/upload\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\n\texport let elem_id = \"\";\n\texport let elem_classes: string[] = [];\n\texport let visible = true;\n\texport let value: [string | FileData | null, string | FileData | null][] = [];\n\texport let scale: number | null = null;\n\texport let min_width: number | undefined = undefined;\n\texport let label: string;\n\texport let show_label = true;\n\texport let root: string;\n\texport let root_url: null | string;\n\texport let selectable = false;\n\texport let likeable = false;\n\texport let show_share_button = false;\n\texport let rtl = false;\n\texport let show_copy_button = false;\n\texport let sanitize_html = true;\n\texport let bubble_full_width = true;\n\texport let render_markdown = true;\n\texport let latex_delimiters: {\n\t\tleft: string;\n\t\tright: string;\n\t\tdisplay: boolean;\n\t}[];\n\texport let gradio: Gradio<{\n\t\tchange: typeof value;\n\t\tselect: SelectData;\n\t\tshare: ShareData;\n\t\terror: string;\n\t\tlike: LikeData;\n\t}>;\n\texport let avatar_images: [string | null, string | null] = [null, null];\n\n\tlet _value: [string | FileData | null, string | FileData | null][];\n\n\tconst redirect_src_url = (src: string): string =>\n\t\tsrc.replace('src=\"/file', `src=\"${root}file`);\n\n\t$: _value = value\n\t\t? value.map(([user_msg, bot_msg]) => [\n\t\t\t\ttypeof user_msg === \"string\"\n\t\t\t\t\t? redirect_src_url(user_msg)\n\t\t\t\t\t: normalise_file(user_msg, root, root_url),\n\t\t\t\ttypeof bot_msg === \"string\"\n\t\t\t\t\t? redirect_src_url(bot_msg)\n\t\t\t\t\t: normalise_file(bot_msg, root, root_url)\n\t\t  ])\n\t\t: [];\n\n\texport let loading_status: LoadingStatus | undefined = undefined;\n\texport let height = 400;\n</script>\n\n<Block\n\t{elem_id}\n\t{elem_classes}\n\t{visible}\n\tpadding={false}\n\t{scale}\n\t{min_width}\n\t{height}\n\tallow_overflow={false}\n>\n\t{#if loading_status}\n\t\t<StatusTracker\n\t\t\t{...loading_status}\n\t\t\tshow_progress={loading_status.show_progress === \"hidden\"\n\t\t\t\t? \"hidden\"\n\t\t\t\t: \"minimal\"}\n\t\t/>\n\t{/if}\n\t<div class=\"wrapper\">\n\t\t{#if show_label}\n\t\t\t<BlockLabel\n\t\t\t\t{show_label}\n\t\t\t\tIcon={Chat}\n\t\t\t\tfloat={false}\n\t\t\t\tlabel={label || \"Chatbot\"}\n\t\t\t/>\n\t\t{/if}\n\t\t<ChatBot\n\t\t\t{selectable}\n\t\t\t{likeable}\n\t\t\t{show_share_button}\n\t\t\tvalue={_value}\n\t\t\t{latex_delimiters}\n\t\t\t{render_markdown}\n\t\t\tpending_message={loading_status?.status === \"pending\"}\n\t\t\t{rtl}\n\t\t\t{show_copy_button}\n\t\t\ton:change={() => gradio.dispatch(\"change\", value)}\n\t\t\ton:select={(e) => gradio.dispatch(\"select\", e.detail)}\n\t\t\ton:like={(e) => gradio.dispatch(\"like\", e.detail)}\n\t\t\ton:share={(e) => gradio.dispatch(\"share\", e.detail)}\n\t\t\ton:error={(e) => gradio.dispatch(\"error\", e.detail)}\n\t\t\t{avatar_images}\n\t\t\t{sanitize_html}\n\t\t\t{bubble_full_width}\n\t\t\t{root_url}\n\t\t\t{root}\n\t\t/>\n\t</div>\n</Block>\n\n<style>\n\t.wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tflex-direction: column;\n\t\talign-items: start;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n</style>\n"],"names":["insert","target","svg","anchor","append","path0","path1","g0","g1","g5","title","desc","defs","g4","g3","g2","path","format_chat_for_sharing","chat","message_pair","message","speaker_emoji","html_content","regexPatterns","_","regex","match","fileUrl","newUrl","uploadToHuggingFace","file_url","ctx","create_if_block_1","create_if_block","button","copied","value","$$props","timer","copy_feedback","$$invalidate","handle_copy","textArea","error","onDestroy","div_1","i","each_blocks","src_url_equal","img","img_src_value","get_fetchable_url_or_file","attr","dirty","button0","button1","t_value","a","a_href_value","a_download_value","set_data","t","img_alt_value","video","video_src_value","video_title_value","track","audio","audio_src_value","audio_title_value","create_if_block_9","create_if_block_8","if_block2","create_if_block_7","div0","toggle_class","div1","div2","div3","create_if_block_10","if_block1","old_value","latex_delimiters","pending_message","selectable","likeable","show_share_button","rtl","show_copy_button","avatar_images","sanitize_html","bubble_full_width","render_markdown","root","root_url","div","autoscroll","dispatch","createEventDispatcher","beforeUpdate","scroll","afterUpdate","n","handle_select","j","handle_like","liked","click_handler","click_handler_1","click_handler_2","$$value","Chat","blocklabel_changes","elem_id","elem_classes","visible","scale","min_width","label","show_label","gradio","_value","redirect_src_url","src","loading_status","height","change_handler","e","user_msg","bot_msg","normalise_file"],"mappings":"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"}